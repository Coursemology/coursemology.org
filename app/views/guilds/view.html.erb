<div class="page-header">
  <h1>Manage Guilds</h1>
</div>

<%= render partial: 'manage_guild_tab', locals: { tab: 'guild' } %>

<% if @guilds %>
    <% if curr_user_course.is_staff? or current_user.is_admin? %>
        <table class='table table-striped table-hover guild-table'>
          <thead>
            <tr>
              <th>Name</th>
              <th>Description</th>
              <th>Number of Members</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% @guilds.each do |guild| %>
              <%= render partial: 'guild_description', locals: { guild: guild } %>
            <% end %>
          </tbody>
          </table>
    <% elsif curr_user_course.get_guild %>
        <%= render partial: 'guild_description', locals: { guilds: curr_user_course.get_guild } %>
    <% else %>
        <p>You have not been enrolled into a Guild! Please request for your lecturer to add you into a Guild!</p>
    <% end %>
<% else %>
    <p>There are no Guilds here! Please request for your lecturer to add Guilds!</p>
<% end %>


